{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/home_page.css' %}">
{% endblock %}

{% block title %}Inicio - Serenti{% endblock %}

{% block content %}

<!-- Sección Buscar -->
<section class="search-section">
    <div class="section-content">
        <form class="search-form" method="GET" action="#">
            <input type="text" placeholder="¿Qué te gustaría leer hoy?" class="search-input" name="q">
            <button type="submit" class="search-button">Buscar</button>
        </form>
    </div>
</section>

<!-- Sección Destacados -->
<section class="featured-section">
    <div class="section-content">
        <h2>Destacados</h2>
        <h3>Encuentra tu próxima lectura</h3>
        <div class="featured-grid">
            {% for libro in destacados %}
            <a href="{% url 'detail' libro.isbn %}?from=home" class="featured-item" style="text-decoration: none; color: inherit;">
                {% if libro.portadaurl %}
                <img src="{{ libro.portadaurl }}" alt="Portada de {{ libro.titulo }}">
                {% endif %}
                <div>
                    <h4>{{ libro.titulo }}</h4>
                    <p><strong>Autor:</strong> {{ libro.autor }}</p>
                    <p class="descripcion">{{ libro.descripcion|truncatewords:20|default:"Aquí puedes agregar una breve descripción." }}</p>
                </div>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Sección Información -->
<section class="info-section">
    <div class="section-content info-flex-container">
        <div class="info-text">
            <h2>Lectura con Propósito: Adquiere Tus Libros Físicos o Digitales Hoy</h2>
            <div class="info-content">
                <p>En Serenti, encuentras libros que nutren el alma. Adquiere tus ejemplares o la versión digital con un solo clic. Lectura consciente, a tu manera.</p>
                <ul>
                    <li>Adquiere copias a la mano.</li>
                    <li>Facilidad y accesibilidad.</li>
                </ul>
                <div class="cta-buttons">
                    <a href="{% url 'register' %}" class="btn btn-register">Crea Tu Cuenta Ahora</a>
                </div>
            </div>
        </div>
        <div class="info-image">
            <img src="{% static 'images/Sect.png' %}" alt="Lectura con Propósito" />
        </div>
    </div>
</section>

<!-- Sección Categoría: Ficción -->
<section class="category-section category-1">
    <div class="section-content">
        <h2>Fantasía</h2>
        <p>Escapa a mundos donde todo es posible y las reglas las pone la imaginación.</p>
        <div class="category-grid">
            {% for libro in fantasia %}
                {% if libro.isbn %}
                <a href="{% url 'detail' libro.isbn %}?from=home" class="category-item" style="text-decoration: none; color: inherit;">
                {% else %}
                <div class="category-item" style="pointer-events: none; opacity: 0.6;">
                {% endif %}

                    {% if libro.portadaurl %}
                        <img src="{{ libro.portadaurl }}" alt="Portada de {{ libro.titulo }}"
                            style="width: 150px; height: 220px; object-fit: cover; display: block; margin: 0 auto 10px;">
                    {% endif %}
                    <h4>{{ libro.titulo }}</h4>
                    <p><strong>Autor:</strong> {{ libro.autor }}</p>

                {% if libro.isbn %}
                </a>
                {% else %}
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>

<!-- Sección Categoría: Clásico -->
<section class="category-section category-2">
    <div class="section-content">
        <h2>Clásico</h2>
        <p>Sumérgete en las obras que han marcado la historia de la literatura.</p>
        <div class="category-grid">
            {% for libro in clasico %}
            {% if libro.isbn %}
                <a href="{% url 'detail' libro.isbn %}?from=home" class="category-item" style="text-decoration: none; color: inherit;">
            {% else %}
                <div class="category-item" style="pointer-events: none; opacity: 0.6;">
            {% endif %}

                {% if libro.portadaurl %}
                    <img src="{{ libro.portadaurl }}" alt="Portada de {{ libro.titulo }}"
                        style="width: 150px; height: 220px; object-fit: cover; display: block; margin: 0 auto 10px;">
                {% endif %}
                <h4>{{ libro.titulo }}</h4>
                <p><strong>Autor:</strong> {{ libro.autor }}</p>

            {% if libro.isbn %}
                </a>
            {% else %}
                </div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
</section>

<section class="category-section category-2">
    <div class="section-content">
        <h2>Suspenso</h2>
        <p>Amantes del misterio</p>
        <div class="category-grid">
            {% for libro in suspenso %}
            {% if libro.isbn %}
                <a href="{% url 'detail' libro.isbn %}?from=home" class="category-item" style="text-decoration: none; color: inherit;">
            {% else %}
                <div class="category-item" style="pointer-events: none; opacity: 0.6;">
            {% endif %}

                {% if libro.portadaurl %}
                    <img src="{{ libro.portadaurl }}" alt="Portada de {{ libro.titulo }}"
                        style="width: 150px; height: 220px; object-fit: cover; display: block; margin: 0 auto 10px;">
                {% endif %}
                <h4>{{ libro.titulo }}</h4>
                <p><strong>Autor:</strong> {{ libro.autor }}</p>

            {% if libro.isbn %}
                </a>
            {% else %}
                </div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
</section>

<section class="category-section category-2">
    <div class="section-content">
        <h2>Terror</h2>
        <p>Para quienes buscan escalofríos elegantes.</p>
        <div class="category-grid">
            {% for libro in terror %}
            {% if libro.isbn %}
                <a href="{% url 'detail' libro.isbn %}?from=home" class="category-item" style="text-decoration: none; color: inherit;">
                {% else %}
                <div class="category-item" style="pointer-events: none; opacity: 0.6;">
                {% endif %}

                    {% if libro.portadaurl %}
                        <img src="{{ libro.portadaurl }}" alt="Portada de {{ libro.titulo }}"
                            style="width: 150px; height: 220px; object-fit: cover; display: block; margin: 0 auto 10px;">
                    {% endif %}
                    <h4>{{ libro.titulo }}</h4>
                    <p><strong>Autor:</strong> {{ libro.autor }}</p>

                {% if libro.isbn %}
                </a>
                {% else %}
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>

<section class="category-section category-2">
    <div class="section-content">
        <h2>Infantil</h2>
        <p>Para quienes buscan cuentos infantiles </p>
        <div class="category-grid">
            {% for libro in infantil %}
            {% if libro.isbn %}
                <a href="{% url 'detail' libro.isbn %}?from=home" class="category-item" style="text-decoration: none; color: inherit;">
                {% else %}
                <div class="category-item" style="pointer-events: none; opacity: 0.6;">
                {% endif %}

                    {% if libro.portadaurl %}
                        <img src="{{ libro.portadaurl }}" alt="Portada de {{ libro.titulo }}"
                            style="width: 150px; height: 220px; object-fit: cover; display: block; margin: 0 auto 10px;">
                    {% endif %}
                    <h4>{{ libro.titulo }}</h4>
                    <p><strong>Autor:</strong> {{ libro.autor }}</p>

                {% if libro.isbn %}
                </a>
                {% else %}
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>

<section class="category-section category-2">
    <div class="section-content">
        <h2>Ficcion</h2>
        <p>Los que gustan la adrenalina </p>
        <div class="category-grid">
            {% for libro in ficcion %}
            {% if libro.isbn %}
                <a href="{% url 'detail' libro.isbn %}?from=home" class="category-item" style="text-decoration: none; color: inherit;">
                {% else %}
                <div class="category-item" style="pointer-events: none; opacity: 0.6;">
                {% endif %}

                    {% if libro.portadaurl %}
                        <img src="{{ libro.portadaurl }}" alt="Portada de {{ libro.titulo }}"
                            style="width: 150px; height: 220px; object-fit: cover; display: block; margin: 0 auto 10px;">
                    {% endif %}
                    <h4>{{ libro.titulo }}</h4>
                    <p><strong>Autor:</strong> {{ libro.autor }}</p>

                {% if libro.isbn %}
                </a>
                {% else %}
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</section>


<!-- Sección CTA (Call to Action) -->
<section class="cta-section">
    <div class="section-content">
        <h2>¿Buscas más opciones? Entonces visita nuestro directorio</h2>
        <div class="cta-buttons">
            <a href="{% url 'directory' %}" class="btn btn-login">Explora ahora</a>
        </div>
    </div>
</section>
{% endblock %}